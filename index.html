<!DOCTYPE html>
<html>

	<head>
		<title>Slides</title>
		<link rel="stylesheet" href="./multiCol.css">
		<link rel="stylesheet" href="./Reveal/reveal.css">
		<!-- <link rel="stylesheet" href="./Reveal/theme/black.css"> -->
		<link rel="stylesheet" href="./Reveal/theme/solarized.css">
	</head>

	<body>
		
		<div class="reveal">
			<div class="slides" id="slides">
				<section id="Title" data-visibility="uncounted"> 
					<h3 class='r-fit-text'>Hexahedral  Mesh  Generation</h3>
					<h3 class='r-fit-text'>For Tubular Shapes Using Skeletons and Connection Surfaces</h3>
					<div class="r-hstack" style="font-size: 0.5em; padding-top:2.7em;">
						<div style="padding-right:10%" >P. Viville</div>
						<div style="padding-right:10%">P. Kraemer</div>
						<div style="">D. Bechmann</div>
					</div>
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div class="r-hstack">
						<img src="Images/Title/IGG.png" height="40px" style="padding-right: 5%;">
						<img src="Images/Title/ICube.png" height="40px" style="padding-right: 5%;">
						<img src="Images/Title/CNRS.png" height="40px" style="padding-right: 5%;">
						<img src="Images/Title/unistra.png" height="40px" >
					</div>
				</section>

				<section id="Overview"> 
					Overview
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div class="r-hstack"> 
						<canvas id="overview_input" width="350" height="400"></canvas>
						<img src="Images/Utils/arrow.png" height="80px" style="padding-right: 1%; padding-left: 1%;">
						<canvas id="overview_output" width="350" height="400"></canvas>
					</div>
					<div class="fragment" id="Overview_clipping"></div>
				</section>

				<!-- <section id="Introduction_0"> 
					Introduction
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
				</section> -->

				<!-- <section id="Existing Work"> 
					Connection Surfaces
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
				</section> -->

				<!-- <section id="Connection_Surfaces"> 
					Connection Surfaces
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
				</section> -->

				<!-- <section id="Geometry"> 
					Geometry
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
				</section> -->

				<!-- <section id="Hexahedra Generation"> 
					Hexahedra Generation
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
				</section> -->

				<!-- <section id="Connectivity"> 
					Connectivity
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
				</section> -->

				<section id="Sphere_Partition"> 
					Complex Branching Points
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div class="r-vstack">  
						<div class="r-hstack">
							<div style="padding-right:2%">  
								<canvas id="SP_Points" width="200" height="166" ></canvas>
								<p style="font-size:18px; margin-top: 0px;">Branching<br>Point</p>
							</div>
							<div class="fragment" style="padding-right:2%">  
								<canvas id="SP_Raw" width="200" height="166"></canvas>
								<p style="font-size:18px; margin-top: 0px;">Delaunay<br>Triangulation</p>
							</div>
							<div class="fragment">  
								<canvas id="SP_Remesh" width="200" height="166"></canvas>
								<p style="font-size:18px; margin-top: 0px;">Delaunay<br>Remeshed</p>
							</div>
						</div>
						<div class="r-hstack">
							<div class="fragment" style="padding-right:2%">  
								<canvas id="SP_Dual" width="200" height="166"></canvas>
								<p style="font-size:18px; margin-top: 0px;">Dual<br>Construction</p>
							</div>
							<div class="fragment">  
								<canvas id="SP_Result" width="200" height="166"></canvas>
								<p style="font-size:18px; margin-top: 0px;">Resulting<br>Partition</p>
							</div>
						</div>
					</div>
				</section>
<!-- 
				<section id="Results_Partition"> 
					Sphere Partitions
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div class="r-hstack">
						<div style="padding-right:2%">  
							<canvas id="Partition14" width="340" height="340" ></canvas>
							<p style="font-size:20px; margin-top: 0px;">14 Points<br>Success</p>
						</div>
						<div class="fragment">  
							<canvas id="Partition_failure" width="340" height="340"></canvas>
							<p style="font-size:20px; margin-top: 0px;">5 Points<br>Failure</p>
						</div>
					</div>
				</section> -->

				<section id="Flat_Partition"> 
					Flat Branching Points
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div class="r-hstack">
						<div style="padding-right:2%">  
							<canvas id="FP_3Points" width="200" height="166" ></canvas>
							<p style="font-size:18px; margin-top: 0px;">3 Points</p>
						</div>
						<div class="fragment" style="padding-right:2%">  
							<canvas id="FP_4Points" width="200" height="166"></canvas>
							<p style="font-size:18px; margin-top: 0px;">4 Points</p>
						</div>
						<div class="fragment">  
							<canvas id="FP_5Points" width="200" height="166"></canvas>
							<p style="font-size:18px; margin-top: 0px;">5 Points</p>
						</div>
					</div>
				</section>

				<section id="Ortho_Partition"> 
					Orthogonal Branching Points
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div class="r-hstack">
						<div style="padding-right:2%">  
							<canvas id="OP_3Points" width="200" height="200" ></canvas>
							<p style="font-size:18px; margin-top: 0px;">3 Points</p>
						</div>
						<div class="fragment" style="padding-right:2%">  
							<canvas id="OP_4Points" width="200" height="200"></canvas>
							<p style="font-size:18px; margin-top: 0px;">4 Points</p>
						</div>
						<div class="fragment">  
							<canvas id="OP_5Points" width="200" height="200"></canvas>
							<p style="font-size:18px; margin-top: 0px;">5 Points</p>
						</div>
					</div>
				</section>

				<section id="Pipeline_0"> 
					Pipeline
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div class="r-hstack">
						<div style="padding-right:2%;">  
							<canvas  id="Pipeline0_surface" width="220" height="360"></canvas>
							<p style="font-size: 30px;">Input<br>Surface</p>
						</div>
						<div class="fragment" style="padding-right:2%">  
							<canvas id="Pipeline0_skel" width="220" height="360"></canvas>
							<p style="font-size: 30px;">Extracted<br>Skeleton</p>
						</div>
						<div class="fragment">  
							<canvas id="Pipeline0_skel_simple" width="220" height="360"></canvas>
							<p style="font-size: 30px;">Reprocessed<br>Skeleton</p>
						</div>
					</div>
				</section>

				<section id="Pipeline_1"> 
					Pipeline
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div class="r-hstack">
						<div style="padding-right:2%;">   
							<canvas  id="Pipeline1_scaffold" width="220" height="360"></canvas>
							<p style="font-size: 30px;">Skeleton<br>Scaffold</p>
						</div>
						<div class="fragment" style="padding-right:2%">  
							<canvas id="Pipeline1_initial_mesh" width="220" height="360"></canvas>
							<p style="font-size: 30px;">Initial<br>Mesh</p>
						</div>
						<div class="fragment">  
							<canvas id="Pipeline1_surface_fit_mesh" width="220" height="360"></canvas>
							<p style="font-size: 30px;">Surface fit<br>Mesh</p>
						</div>
					</div>
				</section>

				<section id="Pipeline_2"> 
					Pipeline
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div class="r-hstack">
						<div style="padding-right:2%;">   
							<canvas  id="Pipeline2_padding" width="220" height="360"></canvas>
							<p style="font-size: 30px;">Padded<br>Mesh</p>
						</div>
						<div class="fragment" style="padding-right:2%">  
							<canvas id="Pipeline2_result" width="220" height="360"></canvas>
							<p style="font-size: 30px;">Subdivided<br>Mesh</p>
						</div>
						<div class="fragment">  
							<canvas id="Pipeline2_quality" width="220" height="360"></canvas>
							<p style="font-size: 30px;">Optimized<br>Mesh</p>
						</div>
					</div>
					<div class="fragment" id="Pipeline2_material"></div>
				</section>

				<!-- <section id="Comparisions_Santa"> 
					Comparisons
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div class="r-vstack">  
						<div class="r-hstack">
							<div style="padding-right:2%">  
								<canvas id="Santa_live" width="340" height="340" ></canvas>
								<p style="font-size:20px; margin-top: 0px;">(Livesu et al.,  2020)<br>SJ: min:0.682 - avg:0.941</p>
							</div>
							<div>  
								<canvas id="Santa_ours" width="340" height="340"></canvas>
								<p style="font-size:20px; margin-top: 0px;">Ours<br>SJ: min:0.820 - avg:0.981</p>
							</div>
						</div>
						<div>
							Santa
						</div>
					</div>
					<div class="fragment" id="Santa_clipping"></div>
				</section> -->

				<section id="Comparisions_Metatron"> 
					Comparisons
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div class="r-vstack">  
						<div class="r-hstack">
							<div style="padding-right:2%">  
								<canvas id="Meta_live" width="340" height="340" ></canvas>
								<p style="font-size:20px; margin-top: 0px;">(Livesu et al.,  2020)<br>SJ: min:0.682 - avg:0.941</p>
							</div>
							<div>  
								<canvas id="Meta_ours" width="340" height="340"></canvas>
								<p style="font-size:20px; margin-top: 0px;">Ours<br>SJ: min:0.820 - avg:0.981</p>
							</div>
						</div>
						<div>
							Metatron
						</div>
					</div>
					<div class="fragment" id="Metatron_clipping"></div>
				</section>

				<!-- <section id="Edge_cases"> 
					Edge Cases
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div class="r-hstack">
						<div style="padding-right:2%;">   
							<canvas  id="Edge_Elephant" width="340" height="340"></canvas>
							<p style="font-size: 30px;">Elephant</p>
							<div class="fragment" id="Edge_Elephant_skel"></div>
							<div class="fragment" id="Edge_Elephant_vol"></div>
						</div>
						<div class="fragment" style="padding-right:2%">  
							<canvas id="Edge_rocker" width="340" height="340"></canvas>
							<p style="font-size: 30px;">Rocker Arm</p>
							<div class="fragment" id="Edge_rocker_skel"></div>
							<div class="fragment" id="Edge_rocker_vol"></div>
						</div>
						<div class="fragment">  
							<canvas id="Edge_meca" width="340" height="340"></canvas>
							<p style="font-size: 30px;">Meca Piece</p>
							<div class="fragment" id="Edge_meca_skel"></div>
							<div class="fragment" id="Edge_meca_vol"></div>
						</div>
					</div>
				</section> -->

				<section id="Results_Dinopet"> 
					Results
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div style="padding-right:2%">  
						<canvas id="Result_Dinopet" width="400" height="400" ></canvas>
						<div>Dinopet</div>
						<p style="font-size:20px; margin-top: 0px;">SJ: min:0.540 - avg:0.919</p>
					</div>
					<div class="fragment" id="Results_Dinopet_material"></div>
					<div class="fragment" id="Results_Dinopet_Clipping"></div>
				</section>

				<!-- <section id="Results_Horse"> 
					Results
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div style="padding-right:2%">  
						<canvas id="Result_Horse" width="400" height="400" ></canvas>
						<p style="font-size:20px; margin-top: 0px;">SJ: min:0.449 - avg:0.912</p>
						<div>Horse</div>
					</div>
					<div class="fragment" id="Results_Horse_material"></div>
					<div class="fragment" id="Results_Horse_Clipping"></div>
				</section> -->

				<!-- <section id="Results_Cycles"> 
					Results
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div style="padding-right:2%">  
						<canvas id="Result_Cycles" width="400" height="400" ></canvas>
						<p style="font-size:20px; margin-top: 0px;">SJ: min:0.316 - avg:0.937</p>
						<div>Cycles</div>
					</div>
					<div class="fragment" id="Results_Cycles_material"></div>
					<div class="fragment" id="Results_Cycles_Clipping"></div>
				</section> -->

				<section id="Results_Fertility"> 
					Results
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
					<div style="padding-right:2%">  
						<canvas id="Result_Fertility" width="500" height="380" ></canvas>
						<div>Fertility</div>
						<p style="font-size:20px; margin-top: 0px;">SJ: min:0.543 - avg:0.933</p>
					</div>
					<div class="fragment" id="Results_Fertility_material"></div>
					<div class="fragment" id="Results_Fertility_Clipping"></div>
				</section>

				<!-- <section> 
					Acknowledgments
					<hr style="width: 70%; display:flex; justify-content:space-evenly;">
				</section> -->
			</div>
		</div>

		<script type="module">
			import Reveal from './Reveal/reveal.esm.js'
			import Slide from './Slide.js'
			import Renderer from './CMapJS/Rendering/Renderer.js';
			import * as THREE from './CMapJS/Dependencies/three.module.js';
			import {OrbitControls} from './CMapJS/Dependencies/OrbitsControls.js';
			import {load_graph} from './CMapJS/IO/Graph_Formats/Graph_IO.js' 
			import {load_cmap2, export_cmap2} from './CMapJS/IO/Surface_Formats/CMap2_IO.js' 
			import {load_cmap3} from './CMapJS/IO/Volumes_Formats/CMap3_IO.js' 
			import {BoundingBox} from './CMapJS/Utils/BoundingBox.js';
			import {
				slide_overview,
				slide_process_0, 
				slide_process_1, 
				slide_process_2,
				slide_sphere_partition,
				slide_flat_partition,
				slide_ortho_partition,
				slide_metatron_comparison,
				slide_fertility_result,
				slide_dinopet_result,
			} from './slides.js';

			let slides = new Array();
			slides["Overview"] = slide_overview;
			slides["Pipeline_0"] = slide_process_0;
			slides["Pipeline_1"] = slide_process_1;
			slides["Pipeline_2"] = slide_process_2;
			slides["Sphere_Partition"] = slide_sphere_partition;
			slides["Flat_Partition"] = slide_flat_partition;
			slides["Ortho_Partition"] = slide_ortho_partition;
			slides["Comparisions_Metatron"] = slide_metatron_comparison;
			slides["Results_Fertility"] = slide_fertility_result;
			slides["Results_Dinopet"] = slide_dinopet_result;
			
			let active_slide;
			Reveal.addEventListener('slidechanged', function(event) {
				if(active_slide) active_slide.close();
				var sectionID = Reveal.getCurrentSlide().id;
				active_slide = slides[sectionID]
				if(active_slide) active_slide.open();
			});


			let fragment_events = [];
			Reveal.addEventListener('fragmentshown', function(event) {
				console.log(event.fragment.id);
				if(fragment_events[event.fragment.id])
					fragment_events[event.fragment.id]();
			});
			Reveal.addEventListener('fragmenthidden', function(event) {
				console.log(event.fragment.id);
				if(fragment_events[event.fragment.id])
					fragment_events[event.fragment.id]();
			});

			Reveal.initialize({
				touch: false, 
				slideNumber: 'c/t',
				transition: 'none'
			}).then(() => {
				
				slides["Overview"].init(
					document.getElementById("overview_input"),
				 	document.getElementById("overview_output")
				);
				fragment_events["Overview_clipping"] = 
					slides["Overview"].toggle_clipping.bind(slides["Overview"]);

				slides["Pipeline_0"].init(
					document.getElementById("Pipeline0_surface"),
				 	document.getElementById("Pipeline0_skel"),
					document.getElementById("Pipeline0_skel_simple")
				);

				slides["Pipeline_1"].init(
					document.getElementById("Pipeline1_scaffold"),
					document.getElementById("Pipeline1_initial_mesh"),
					document.getElementById("Pipeline1_surface_fit_mesh")
				);

				slides["Pipeline_2"].init(
					document.getElementById("Pipeline2_padding"),
					document.getElementById("Pipeline2_result"),
					document.getElementById("Pipeline2_quality")
				);
				fragment_events["Pipeline2_material"] = 
					slides["Pipeline_2"].toggle_material.bind(slides["Pipeline_2"]);

				slides["Sphere_Partition"].init(
					document.getElementById("SP_Points"),
					document.getElementById("SP_Raw"),
					document.getElementById("SP_Remesh"),
					document.getElementById("SP_Dual"),
					document.getElementById("SP_Result")
				);

				slides["Flat_Partition"].init(
					document.getElementById("FP_3Points"),
					document.getElementById("FP_4Points"),
					document.getElementById("FP_5Points")
				);

				slides["Ortho_Partition"].init(
					document.getElementById("OP_3Points"),
					document.getElementById("OP_4Points"),
					document.getElementById("OP_5Points")
				);

				slides["Comparisions_Metatron"].init(
					document.getElementById("Meta_live"),
					document.getElementById("Meta_ours"),
				);
				fragment_events["Metatron_clipping"] = 
					slides["Comparisions_Metatron"].toggle_clipping.bind(slides["Comparisions_Metatron"]);
			
				slides["Results_Fertility"].init(
					document.getElementById("Result_Fertility")
				);
				fragment_events["Results_Fertility_material"] = 
					slides["Results_Fertility"].toggle_material.bind(slides["Results_Fertility"]);
				fragment_events["Results_Fertility_Clipping"] = 
					slides["Results_Fertility"].toggle_clipping.bind(slides["Results_Fertility"]);
			
				slides["Results_Dinopet"].init(
					document.getElementById("Result_Dinopet")
				);
				fragment_events["Results_Dinopet_material"] = 
					slides["Results_Dinopet"].toggle_material.bind(slides["Results_Dinopet"]);
				fragment_events["Results_Dinopet_Clipping"] = 
					slides["Results_Dinopet"].toggle_clipping.bind(slides["Results_Dinopet"]);
			
			});
			
		</script>
	</body>

</html>